<ion-view view-title="Dashboard" style="background: url(img/canal_blue.jpg); background-size: 100% 100%;">
  <ion-content>
    <h2>Meet Me In {{travelInfo.country}}</h2>

    <!-- Meta info -->
    <div class="row">
      <round-progress
        ng-click="getDestinations();"
        max="metaInfo.destinations.total"
        current="metaInfo.destinations.fetched"
        color="#45ccce"
        bgcolor="#eaeaea"
        radius="15"
        stroke="2"
        semi="false"
        rounded="true"
        clockwise="false"
        responsive="false"
        duration="800"
        animation="easeInOutQuart"
        animation-delay="0">    
      </round-progress>
      <!-- <span> {{metaInfo.destinations.fetched}} / {{ metaInfo.destinations.total}} </span> -->
    </div>

    <!-- Your Location -->
    <label class="item item-input">
      <span class="input-label">Location</span>
      <input ng-change="autoCompleteYourLocation()" ng-model="travelInfo.yourLocation" type="text">
    </label>
    <div style="background: #B0B0B0; padding: 6px;" ng-show="travelInfo.yourFilteredLocations.length > 0">
      <span ng-repeat="destination in travelInfo.yourFilteredLocations" ng-click="saveYourLocation(destination);">
        <span>
          {{desintation.iata}} - {{destination.publicName.english}}
        </span>
        <br/>
      </span>
    </div>

    <!-- Your Friend's Location -->
    <label class="item item-input">
      <span class="input-label">Friend's Location</span>
      <input ng-change="autoCompleteFriendLocation()" ng-model="travelInfo.friendLocation" type="text">
    </label>
    <div style="background: #B0B0B0; padding: 6px;" ng-show="travelInfo.friendFilteredLocations.length > 0">
      <span ng-repeat="destination in travelInfo.friendFilteredLocations" ng-click="saveFriendLocation(destination);">
        <span>
          {{desintation.iata}} - {{destination.publicName.english}}
        </span>
        <br/>
      </span>
    </div>

    <!-- Date you're trying to meet up -->
    <label class="item item-input">
      <span class="input-label">Meeting Date</span>
      <input ng-model="travelInfo.arrivalDate" type="date">
    </label>

    <!-- Go! -->
    <button ion-button full outline ng-click="getAllFlights();">Get Flights!</button>

    <!-- Results -->
    <h4>Here's how you can meet in Amsterdam!</h4>
    <div ng-repeat="flight in travelInfo.eligibleFlights">
      <span>{{flight.flightName}} - {{flight.scheduleDate}}</span>
      <span>{{flight.terminal}}</span>
      <span ng-repeat="destination in flight.route.destinations">{{destination}}</span>
    </div>

  </ion-content>
</ion-view>
